From 6d7e6efc1c81e2fe9348bc5f1840ac24633a6df6 Mon Sep 17 00:00:00 2001
From: IsaiahPatton <isaiahpatton1@gmail.com>
Date: Sat, 20 May 2017 00:09:05 -0400
Subject: [PATCH 70/71] Run ProjectRails classes in Rainbow classes

---
 rainbow/src/main/java/org/projectrainbow/Updater.java          | 10 ++++++++++
 rainbow/src/main/java/org/projectrainbow/_DiwUtils.java        |  2 +-
 rainbow/src/main/java/org/projectrainbow/launch/Bootstrap.java |  2 +-
 3 files changed, 12 insertions(+), 2 deletions(-)

diff --git a/rainbow/src/main/java/org/projectrainbow/Updater.java b/rainbow/src/main/java/org/projectrainbow/Updater.java
index ba9f7db..668df04 100644
--- a/rainbow/src/main/java/org/projectrainbow/Updater.java
+++ b/rainbow/src/main/java/org/projectrainbow/Updater.java
@@ -19,7 +19,17 @@ import org.projectrainbow.launch.Bootstrap;
  * @author Isaiah Patton
  */
 public class Updater {
+    // ProjectRails start
     public static String checkForUpdate() {
+        int behind = org.projectrails.Rail_Updater.check(_DiwUtils.Version);
+        if (behind == 0) {
+            return "You are running the latest version.";
+        }
+        return "You are running " + behind + " versions behind.";
+    }
+    // ProjectRails end
+
+    public static String rainbow_checkForUpdate() { // ProjectRails: checkForUpdate to rainbow_checkForUpdate
         String latest = getLatestVersion();
         if (!latest.startsWith("ERROR")) {
             try {
diff --git a/rainbow/src/main/java/org/projectrainbow/_DiwUtils.java b/rainbow/src/main/java/org/projectrainbow/_DiwUtils.java
index 64dbf6a..8fdde22 100644
--- a/rainbow/src/main/java/org/projectrainbow/_DiwUtils.java
+++ b/rainbow/src/main/java/org/projectrainbow/_DiwUtils.java
@@ -334,7 +334,7 @@ public class _DiwUtils {
         }
         BlockHelper.mapItemNames = mapItemNames.build();
         BlockHelper.mapNumSubtypes = mapNumSubtypes.build();
-
+        org.projectrails.Rails.run(); // ProjectRails
         System.out.println("\nInitializing 'Baked In' server goodies...");
         System.out.println("---------------------------------------------------------------");
         RainbowUtils.setServer(ServerWrapper.getInstance());
diff --git a/rainbow/src/main/java/org/projectrainbow/launch/Bootstrap.java b/rainbow/src/main/java/org/projectrainbow/launch/Bootstrap.java
index 0995bf8..3c90a25 100644
--- a/rainbow/src/main/java/org/projectrainbow/launch/Bootstrap.java
+++ b/rainbow/src/main/java/org/projectrainbow/launch/Bootstrap.java
@@ -82,7 +82,7 @@ public class Bootstrap {
             options.add("--tweakClass");
             options.add(tweakClass);
         }
-
+        System.out.println("Loading Minecraft server, Please wait..."); // ProjectRails: Print launch message.
         Launch.main(options.toArray(new String[options.size()]));
     }
 
-- 
2.10.1.windows.1

