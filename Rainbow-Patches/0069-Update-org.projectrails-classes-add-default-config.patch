From d0f2393d12f1177988bde91255f4a97d11188346 Mon Sep 17 00:00:00 2001
From: IsaiahPatton <isaiahpatton1@gmail.com>
Date: Sat, 20 May 2017 00:01:35 -0400
Subject: [PATCH 69/71] Update org.projectrails classes & add default config

---
 rainbow/src/main/java/org/projectrails/Rail_Updater.java | 5 +----
 rainbow/src/main/java/org/projectrails/Rails.java        | 5 ++---
 rainbow/src/main/resources/projectrails.yml              | 9 +++++++++
 3 files changed, 12 insertions(+), 7 deletions(-)
 create mode 100644 rainbow/src/main/resources/projectrails.yml

diff --git a/rainbow/src/main/java/org/projectrails/Rail_Updater.java b/rainbow/src/main/java/org/projectrails/Rail_Updater.java
index 954eef5..9b544e4 100644
--- a/rainbow/src/main/java/org/projectrails/Rail_Updater.java
+++ b/rainbow/src/main/java/org/projectrails/Rail_Updater.java
@@ -11,17 +11,14 @@ import java.net.URLConnection;
  * Updater for Project Rails
  */
 public class Rail_Updater {
-    /**
-     * Is there a faster way? This takes around 5 - 7 sec.
-     */
     public static int check(String currentVersion) throws MalformedURLException, IOException {
-        System.out.println("Hi");
         URLConnection urlc = new URL("https://api.github.com/repos/Project-Rails/Releases/releases").openConnection();
         BufferedReader in = new BufferedReader(new InputStreamReader(urlc.getInputStream(), "UTF-8"));
         int i = 0;
         for (String s : in.readLine().trim().split("tag_name")) {
             if (s.substring(3, s.indexOf(",") - 1).equalsIgnoreCase(currentVersion)) {
                 in.close();
+                if (Rails.getConfig().getBoolean("updater.lower", false) && i <= 1) { return 0; }
                 return (i - 1);
             } else i++;
         }
diff --git a/rainbow/src/main/java/org/projectrails/Rails.java b/rainbow/src/main/java/org/projectrails/Rails.java
index 6a28961..442049a 100644
--- a/rainbow/src/main/java/org/projectrails/Rails.java
+++ b/rainbow/src/main/java/org/projectrails/Rails.java
@@ -1,7 +1,5 @@
 package org.projectrails;
 
-import org.projectrainbow._DiwUtils;
-
 import net.md_5.bungee.config.Configuration;
 
 /**
@@ -11,7 +9,8 @@ public class Rails {
     private static RailConfig config = new RailConfig("projectrails.yml");
 
     /**
-     * Runs ProjectRails stuff. Called in {@link _DiwUtils#Startup()}
+     * Runs ProjectRails stuff. Called in
+     * {@link org.projectrainbow._DiwUtils#Startup()}
      */
     public static void run() {
         config.saveDefaultConfig();
diff --git a/rainbow/src/main/resources/projectrails.yml b/rainbow/src/main/resources/projectrails.yml
new file mode 100644
index 0000000..b1382ee
--- /dev/null
+++ b/rainbow/src/main/resources/projectrails.yml
@@ -0,0 +1,9 @@
+# Project-Rails Configuration.
+
+# Update System Settings
+updater:
+  # Lower Updater check rate.
+  # Makes the updater return your 
+  # running the lastest version when
+  # your just running 1 version behind.
+  lower: false
\ No newline at end of file
-- 
2.10.1.windows.1

