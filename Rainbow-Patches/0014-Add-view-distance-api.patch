From c7d7f175c0dbcd8a8175e709e47c7e3d6451d21f Mon Sep 17 00:00:00 2001
From: IsaiahPatton <isaiahpatton1@gmail.com>
Date: Wed, 7 Jun 2017 19:37:38 -0400
Subject: [PATCH] Add view distance api

---
 .../src/main/java/PluginReference/MC_Server.java   | 23 ++++++++++++++++++++++
 .../java/org/projectrainbow/ServerWrapper.java     | 12 +++++++++++
 2 files changed, 35 insertions(+)

diff --git a/PluginReference/src/main/java/PluginReference/MC_Server.java b/PluginReference/src/main/java/PluginReference/MC_Server.java
index 7d1656c..680309f 100644
--- a/PluginReference/src/main/java/PluginReference/MC_Server.java
+++ b/PluginReference/src/main/java/PluginReference/MC_Server.java
@@ -455,5 +455,28 @@ public interface MC_Server {
      * @return the (offline) player if present
      */
     MC_Player getOfflinePlayerByUUID(UUID uuid);
+
+    // ProjectRails start.
+    /**
+     * The view distance setting will determine distance in which the world will load when the player is in a spot.
+     * The higher the number the view distance is set to, the further they can see.
+     * However, seeing further uses up RAM so the lower view distance, 
+     * the better your Minecraft server will perform.
+     * 
+     * @see MC_Server#setViewDistance
+     * @return View Distance
+     */
+    int getViewDistance();
+
+    /**
+     * The view distance setting will determine distance in which the world will load when the player is in a spot.
+     * The higher the number the view distance is set to, the further they can see.
+     * However, seeing further uses up RAM so the lower view distance, 
+     * the better your Minecraft server will perform.
+     * 
+     * @see MC_Server#getViewDistance
+     */
+    void setViewDistance(int newValue);
+    // ProjectRails end.
 }
 
diff --git a/rainbow/src/main/java/org/projectrainbow/ServerWrapper.java b/rainbow/src/main/java/org/projectrainbow/ServerWrapper.java
index 97ae829..d42ca2e 100755
--- a/rainbow/src/main/java/org/projectrainbow/ServerWrapper.java
+++ b/rainbow/src/main/java/org/projectrainbow/ServerWrapper.java
@@ -522,4 +522,16 @@ public class ServerWrapper implements MC_Server {
     public String getMinecraftVersion() {
         return _DiwUtils.getMinecraftServer().G(); // getMinecraftVersion
     }
+
+    // ProjectRails start
+    @Override
+    public int getViewDistance() {
+        return _DiwUtils.getMinecraftServer().getPlayerList().getViewDistance();
+    }
+
+    @Override
+    public void setViewDistance(int newValue) {
+        _DiwUtils.getMinecraftServer().getPlayerList().setViewDistance(newValue);
+    }
+    // ProjectRails end
 }
-- 
2.13.0.windows.1

